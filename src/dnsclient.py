import socket

s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)

# Test Packets
testquery = "\x00\x1e\x2a\x06\xfe\x84\x00\x16\xea\x54\xc9\x76\x08\x00\x45\x00\x00\x3c\x20\x30\x00\x00\x80\x11\x97\x2c\xc0\xa8\x01\x03\xc0\xa8\x01\x01\xe1\x39\x00\x35\x00\x28\x8e\x4e\x5f\x89\x01\x00\x00\x01\x00\x00\x00\x00\x00\x00\x04\x74\x30\x34\x61\x05\x68\x79\x70\x65\x6d\x03\x63\x6f\x6d\x00\x00\x01\x00\x01"

testresponse = "\x00\x16\xea\x54\xc9\x76\x00\x1e\x2a\x06\xfe\x84\x08\x00\x45\x00\x00\x4c\x00\x00\x40\x00\x40\x11\xb7\x4c\xc0\xa8\x01\x01\xc0\xa8\x01\x03\x00\x35\xe1\x39\x00\x38\xd0\xd8\x5f\x89\x81\x80\x00\x01\x00\x01\x00\x00\x00\x00\x04\x74\x30\x34\x61\x05\x68\x79\x70\x65\x6d\x03\x63\x6f\x6d\x00\x00\x01\x00\x01\xc0\x0c\x00\x01\x00\x01\x00\x00\x0b\xa0\x00\x04\xad\xf4\xc3\x2c"

addr = '127.0.0.1'
port = 10000
s.connect((addr, port))

if len(testquery) != s.send(testquery):
    raise socket.Error
    
(data,addr) = s.recvfrom(1024)
s.close()

print '%s(%d) said "%s"' % (addr[0],addr[1], data)
